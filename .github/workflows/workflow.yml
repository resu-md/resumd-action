name: Markdown to PDF

on:
    workflow_call:
        inputs:
            files:
                description: "Newline-separated glob patterns that match Markdown files to render."
                required: false
                default: "**/*.md"
                type: string
            exclude:
                description: "Newline-separated glob patterns to exclude from the search."
                required: false
                type: string
            generate_html:
                description: "Set to 'true' to also emit HTML files."
                required: false
                default: false
                type: boolean
            artifact_name:
                description: "Name of the artifact to upload."
                required: false
                default: "Markdown_PDFs_Converted"
                type: string

jobs:
    pdf:
        name: Convert Markdown to PDF
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: Generate PDFs and HTML
              uses: resu-md/resumd-action@main
              with:
                  files: ${{ inputs.files }}
                  exclude: ${{ inputs.exclude }}
                  generate_html: ${{ inputs.generate_html }}
                  artifact_name: ${{ inputs.artifact_name }}
